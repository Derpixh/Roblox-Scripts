local SoundService = game:GetService("SoundService")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")

local BIOME_DETECTIONS = {
    {
        soundId = "rbxassetid://9044565954",
        soundGroup = "PlayerBackgroundMusic",
        message = "Detected Windy Biome!"
    },
    {
        soundId = "rbxassetid://9046862941",
        soundGroup = "PlayerBackgroundMusic",
        message = "Detected Normal Biome!"
    },
    {
        soundId = "rbxassetid://1837667693",
        soundGroup = "BackgroundMusic",
        message = "Detected Null Biome!"
    },
    {
        soundId = "rbxassetid://9043887091",
        soundGroup = "PlayerBackgroundMusic",
        message = "Detected Rainy Biome!"
    },
    {
        soundId = "rbxassetid://1837093849",
        soundGroup = "PlayerBackgroundMusic",
        message = "Detected Hell Biome!"
    },
    {
        soundId = "rbxassetid://1837897153",
        soundGroup = "PlayerBackgroundMusic",
        message = "Detected Corruption Biome!"
    },
    {
        soundId = "rbxassetid://1836349593",
        soundGroup = "PlayerBackgroundMusic",
        message = "Detected Starfall Biome!"
    }
}

local activeBiomes = {}

local function showNotification(message)
    StarterGui:SetCore("SendNotification", {
        Title = "Biome Detector",
        Text = message,
        Duration = 5
    })
end

local function checkBiomes()
    for _, sound in ipairs(SoundService:GetDescendants()) do
        if sound:IsA("Sound") and sound.IsPlaying then
            local group = sound.SoundGroup and sound.SoundGroup.Name or "None"
            for _, biome in ipairs(BIOME_DETECTIONS) do
                if sound.SoundId == biome.soundId and group == biome.soundGroup then
                    if not activeBiomes[biome.soundId] then
                        showNotification(biome.message)
                        activeBiomes[biome.soundId] = true
                    end
                end
            end
        end
    end
end

RunService.Heartbeat:Connect(checkBiomes)
