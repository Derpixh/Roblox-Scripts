local SoundService = game:GetService("SoundService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local RAINY_SOUND_ID = "rbxassetid://9043887091"
local NORMAL_SOUND_ID = "rbxassetid://9046862941"
local TARGET_SOUND_GROUP = "PlayerBackgroundMusic"

local localPlayer = Players.LocalPlayer
local lastBiome = nil

local function checkSounds()
    local currentBiome = nil
    
    for _, sound in ipairs(SoundService:GetDescendants()) do
        if sound:IsA("Sound") and sound.IsPlaying then
            if sound.SoundGroup and sound.SoundGroup.Name == TARGET_SOUND_GROUP then
                local soundId = tostring(sound.SoundId)
                
                if soundId == RAINY_SOUND_ID then
                    currentBiome = "Rainy"
                    break
                elseif soundId == NORMAL_SOUND_ID then
                    currentBiome = "Normal"
                    break
                end
            end
        end
    end
    
    if currentBiome ~= lastBiome then
        if currentBiome then
            localPlayer:SendNotification({
                Title = "Biome Detector",
                Text = currentBiome .. " Biome Has Started!",
                Duration = 5
            })
        else
            localPlayer:SendNotification({
                Title = "Biome Detector",
                Text = lastBiome .. " Biome Has Ended!",
                Duration = 5
            })
        end
        lastBiome = currentBiome
    end
end

RunService.Heartbeat:Connect(checkSounds)
