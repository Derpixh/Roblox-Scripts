local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local window = Rayfield:CreateWindow({
    Name = "Forsaken - Alpha Hax",
    LoadingTitle = "Loading Assets..",
    LoadingSubtitle = "Created By Luxx",
    ConfigurationSaving = {
        Enabled = false,
        FileName = "Sirius"
    },
    KeySystem = true,
    KeySettings = {
        Title = "Luxx's Key System",
        Subtitle = "Enter Your Key",
        Note = "Rate The Features",
        FileName = "Sirius",
        SaveKey = false,
        Key = "2025"
    }
})

local generatorsTab = window:CreateTab("Generators")
local autoCompleteToggle = generatorsTab:CreateToggle({
    Name = "Auto Complete Generators",
    CurrentValue = false,
    Flag = "AutoGenerators",
    Callback = function(value)
        _G.AutoGeneratorsEnabled = value
        if value then
            Rayfield:Notify({
                Title = "Generators",
                Content = "Auto Generators Enabled",
                Duration = 3,
                Image = 4483362458
            })
        else
            Rayfield:Notify({
                Title = "Generators",
                Content = "Auto Generators Disabled",
                Duration = 3,
                Image = 4483362458
            })
        end
    end
})

local function findNearestGenerator()
    local player = game.Players.LocalPlayer
    local character = player.Character
    if not character then return nil end
    
    local rootPart = character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return nil end
    
    local generators = workspace:WaitForChild("Map"):WaitForChild("Ingame"):WaitForChild("Map"):GetChildren()
    local nearest = nil
    local minDistance = math.huge
    
    for _, obj in pairs(generators) do
        if obj.Name == "Generator" and obj:FindFirstChild("Remotes") then
            local distance = (rootPart.Position - obj:GetPivot().Position).Magnitude
            if distance < minDistance then
                minDistance = distance
                nearest = obj
            end
        end
    end
    
    return nearest
end

spawn(function()
    while wait() do
        if _G.AutoGeneratorsEnabled then
            local playerGui = game.Players.LocalPlayer:WaitForChild("PlayerGui")
            if playerGui:FindFirstChild("PuzzleUI") then
                local generator = findNearestGenerator()
                if generator then
                    while _G.AutoGeneratorsEnabled and playerGui:FindFirstChild("PuzzleUI") do
                        generator:WaitForChild("Remotes"):WaitForChild("RE"):FireServer()
                        wait(1.25)
                    end
                end
            end
        end
    end
end)

Rayfield:LoadConfiguration()
