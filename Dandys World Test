local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local currentRoom = workspace:FindFirstChild("CurrentRoom")
if not currentRoom then
    return
end

local roomModel = currentRoom:FindFirstChildOfClass("Model")
if not roomModel then
    return
end

local monstersFolder = roomModel:FindFirstChild("Monsters")
if not monstersFolder then
    return
end

local function monitorChasing()
    for _, monster in ipairs(monstersFolder:GetChildren()) do
        if monster:IsA("Model") then
            local chasing = monster:FindFirstChild("Chasing")
            local chasingValue = monster:FindFirstChild("ChasingValue")

            if chasing and chasing:IsA("BoolValue") and chasingValue and chasingValue:IsA("ObjectValue") then
                chasing.Changed:Connect(function(newValue)
                    if newValue then
                        chasingValue.Changed:Connect(function(value)
                            if value == LocalPlayer then
                                game.StarterGui:SetCore("SendNotification", {
                                    Title = "Monster Notifier",
                                    Text = monster.Name .. " is chasing you!",
                                    Duration = 5
                                })
                            elseif value == nil or value == "" then
                                game.StarterGui:SetCore("SendNotification", {
                                    Title = "Monster Notifier",
                                    Text = monster.Name .. " had stopped chasing you.",
                                    Duration = 5
                                })
                            end
                        end)
                    end
                end)
            end
        end
    end
end

monitorChasing()
